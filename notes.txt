кодирование состояний четырёхугольной клетки с диагоналями (из них генератор генерирует только 0 1 2 3 4 5, но 6 и 7 могут возникнуть при наложении)
'__'	0
'|/'	1
'/|'	2
'\|'	3
'|\'	4
'|_|'	5
'|/|' 6
'|\|' 7
никакой математической красоты тут искать не следует